# 취업 체험 서비스 제공 플랫폼 - 템프

# 1. 기획 의도

<img src="https://github.com/kimsk715/kimsk715/blob/3985bad5da05d4e9262a3ffede56fb3d6fdb78b7/temp_purpose.jpg">

청년 실업이 늘어갈 뿐만 아니라, 전체적으로 취업이 쉽지 않은 요즘, 취업에 대한 장벽 중 하나로 꼽히는 것이 실무 경험의 부재이다. 인턴십 또한 기회가 많이 주어지지 않기 때문에, 이러한 점을 해소하고자 취업 체험 서비스를 제공하고자 '템프' 라는 플랫폼을 기획하였다.

# 2. 기대 효과

<img src="https://github.com/kimsk715/kimsk715/blob/fdff249fa363019eb58325c78bfd4f08bf65cdef/temp_effect.jpg">

청년층의 취업 의지 독려뿐만 아니라, 실무 경험을 통한 개인의 역량 상승이나 특정 직종에 대한 확신을 얻을 수 있고, 기업 입장에서도 이미지 개선 뿐만 아니라, 채용이나 인턴 이외의 추가적인 인재 발굴의 기회를 가질 수 있다.

# 3. 프로젝트 사용 Tool

-   Java<br>
-   Java Spring Data<br>
-   Java Script<br>
-   tomcat<br>
-   ORACLE<br>
-   Spring Boot<br>
-   Visual Studio Code<br>
-   DBeaver<br>
-   Sourcetree<br>
-   git, github<br>
-   JSON<br>
-   Ajax<br>
-   JDK 11.0.15<br>
-   Kakao DEVELOPER API<br>
-   SMTP Gmail API<br>
-   Slack<br>

# 4. ERD

<img src="https://github.com/kimsk715/kimsk715/blob/249d365380746c016d0618c0f6a11a82a72cf0e1/temp_ERD.jpg">

# 5. 담당 업무

## 5-1. 퍼블리싱

<img src="https://github.com/kimsk715/kimsk715/blob/5f49b8d575e2f714406e4ec7a4cc18bdd239aad8/temp_publishing.jpg">

### ※ 일반 회원 마이페이지

    ▶ 메인페이지
    ▶ 지원 현황
    ▶ 스크랩 리스트
    ▶ 계정 정보 수정
    ▶ 결제 관리
    ▶ 회원 탈퇴

### ※ 기업 마이페이지

    ▶ 체험 프로그램 목록
    ▶ 체험 프로그램 등록 및 수정
    ▶ 계정 정보 수정
    ▶ 기업 로고 및 이미지 등록
    ▶ 프로그램 지원자 관리
    ▶ 프로그램 지원자 상세보기
    ▶ 멤버 관리
    ▶ 관리자 권한 초대
    ▶ 뷰어 권한 초대

### ※ 지원서

    ▶ 지원서 메인페이지
    ▶ 지원서 작성 및 수정

## 5-2 백엔드

<img src="https://github.com/kimsk715/kimsk715/blob/d25158a4df0a71c04f02c198509b75a9205b106d/temp_server1.jpg">
<img src="https://github.com/kimsk715/kimsk715/blob/d25158a4df0a71c04f02c198509b75a9205b106d/temp_server2.jpg">

### ※ 관리자 페이지

    ▶ 체험 프로그램
    	- 체험 프로그램 목록 10개 단위로 조회 및 페이징 처리(Restful)
    	- 체험 프로그램 프로그램명 검색 처리(Restful)
    	- 체험 프로그램 등록일 및 승인 상태 별 필터링 처리(Restful)
    	- 체험 프로그램 상세보기 버튼 클릭 시 상세 정보 모달 팝업(Restful)
    	- 체험 프로그램 상세보기 모달 팝업에서 승인 상태 변경(Restful)

    ▶ 개인 회원
    	- 개인 회원 목록 10개 단위로 조회 및 페이징 처리(Restful)
    	- 개인 회원 회원명 검색 처리(Restful)
    	- 개인 회원 등록일 및 가입 상태 별 필터링 처리(Restful)
    	- 개인 회원 상세보기 버튼 클릭 시 상세 정보 모달 팝업(Restful)
    	- 개인 회원 상세보기 모달 팝업에서 가입 상태 변경(Restful)

    ▶ 기업 회원
    	- 기업 회원 목록 10개 단위로 조회 및 페이징 처리(Restful)
    	- 기업 회원 기업명 및 회원명 검색 처리(Restful)
    	- 기업 회원 등록일 및 가입 상태 별 필터링 처리(Restful)
    	- 기업 회원 상세보기 버튼 클릭 시 상세 정보 모달 팝업(Restful)
    	- 기업 회원 상세보기 모달 팝업에서 가입 상태 변경(Restful)

    ▶ 개인 문의
    	- 개인 문의 목록 10개 단위로 조회 및 페이징 처리(Restful)
    	- 개인 문의 이름 회원명 처리(Restful)
    	- 개인 문의 등록일 및 처리상태 별 필터링 처리(Restful)
    	- 개인 문의 상세보기 버튼 클릭 시 상세 정보 모달 팝업(Restful)
    	- 개인 문의 상세보기 모달 팝업에서 문의 답변(Restful)

    ▶ 기업 문의
    	- 기업 문의 목록 10개 단위로 조회 및 페이징 처리(Restful)
    	- 기업 문의 이름 기업명 및 회원명 처리(Restful)
    	- 기업 문의 등록일 및 처리상태 별 필터링 처리(Restful)
    	- 기업 문의 상세보기 버튼 클릭 시 상세 정보 모달 팝업(Restful)
    	- 기업 문의 상세보기 모달 팝업에서 문의 답변(Restful)

    ▶ 공지사항
    	- 공지사항 목록 10개 단위로 조회 및 페이징 처리(Restful)
    	- 공지사항 이름 검색 처리(Restful)
    	- 공지사항 등록일 및 카테고리 별 필터링 처리(Restful)
    	- 공지사항 상세보기 버튼 클릭 시 상세 정보 모달 팝업(Restful)
    	- 공지사항 상세보기 모달 팝업에서 공지 수정(Restful)
    	- 공지사항 작성 버튼 클릭 시 신규 공지 작성

### ※ 공지사항

    ▶ 공지 및 FAQ 목록 조회
    ▶ 각 항목 선택 시 상세 정보 조회 및 출력

### ※ 문의

    ▶ 개인회원 문의 발송(Restful)
    ▶ 기업회원 문의 발송(Restful)

### ※ 체험 프로그램

    ▶ 프로그램 전체 목록 조회
    ▶ 프로그램 검색 기능(키워드)
    ▶ 프로그램 검색 기능(카테고리)
    ▶ 프로그램 상세 보기 페이지에서 지원 버튼 클릭 시, 해당 프로그램 지원 처리
    ▶ 프로그램 카드의 스크랩 버튼 클릭 시, DB에 해당 정보 추가 및 버튼 상태 변경.
    ▶ 프로그램 상세 보기 페이지에서 기업 정보 클릭 시, 해당 기업 정보 조회

### ※ 메인 페이지

    ▶ 페이지 접속 시 최다 조회 프로그램 12개 조회 및 출력.

# 6. 느낀점

## 6-1. 어려웠던 점

관리자 페이지에 Restful API를 사용해 비동기 통신으로 데이터를 출력하는 작업이 쉽지 않았다.
관리자 페이지는 좌측의 토글 메뉴나 메인 페이지에 있는 버튼을 클릭했을 때, 화면 이동 없이 HTML 내 특정 구역만 보여주는 방식으로 구성되어 있었다.
따라서 비동기 통신을 이용해 해당 구역에 데이터를 반환하고 출력하는 형태로 서비스를 구현해야 했다.

Rest 방식의 문법이 낯설었던 데다, 작동 원리를 이해하는 데에도 어려움이 있었다.
그래서 비동기 통신 과정을 크게 세 부분으로 나누어 구성했다.
이벤트를 담당하는 JavaScript, 반환된 데이터를 화면에 출력하는 JavaScript, 그리고 fetch를 통한 비동기 호출을 담당하는 JavaScript로 나눈 것이다.
먼저 데이터를 URL 형태로 제대로 fetch할 수 있는지부터 확인하며 작업을 진행했다.

중간에는 fetch 요청이 페이지 레이아웃에 맞게 출력되지 않고, 계속 JSON 형태로만 반환되는 문제가 발생했다.
개발자 도구의 네트워크 로그를 확인한 결과, 컨트롤러에서 요청을 처리하는 과정에 문제가 있다는 것을 발견하고 수정했다.

처음 접하는 방식이었기 때문에, 작동 원리를 공부하고, 작성하면서 발생하는 오류를 하나하나 확인해가며 해결해야 했다.
덕분에 시간이 많이 걸렸지만, 결국 작동 원리를 완벽하게 이해할 수 있었고, 이후에는 비동기 통신을 훨씬 수월하게 활용할 수 있게 되었다.

## 6-2. 트러블 슈팅

### 1. 관리자 메뉴에서 페이지 이동 시 기존의 필터링이 해제 되는 상황

#### 문제 상황

    관리자 메뉴에서 등록일, 문의 처리 여부와 같이 드롭다운 메뉴를 통한 필터링을 할 경우, 페이지 버튼의 개수가 실제 조회된 게시글에 
    의한 페이지 수와 일치하지 않았다. 또한 추가적인 정보를 조회하기 위해 페이지 버튼을 클릭할 경우, 
    기존의 필터링이 해제되고 전체 데이터를 출력하였다.

#### 문제 원인

     페이징 처리를 할 때, SELECT를 통해 조회하는 데이터의 수와 한 페이지 당 노출할 데이터의 수를 기준으로 페이지를 결정하였다. 
     이 때, 화면에 출력할 데이터는 WHERE절을 통해 조건에 해당하는 데이터만 DB로부터 SELECT했다. 
     하지만, 페이지네이션을 결정하는 총 데이터의 수는, DB에 있는 전체 데이터의 개수와 일치하게끔 Query문이 작성되어 있었다
     그로 인해 화면에 출력된 데이터와 페이징 처리에서의 간극이 있었다. 
     페이지 버튼의 경우, 조건에 맞는 데이터를 요청한 것이 아닌, 전체 데이터를 요청하고 있었다.

#### 해결 방법

     페이징 처리에서 페이지 수를 결정하는 데 필요한 총 데이터의 수를 조건에 맞는 데이터의 수를 반영하도록 Query문을 수정하였고, 
     페이지 버튼에서도 조건에 맞은 query String을 통해 fetch를 요청하도록 수정하였고, 이후 더미 데이터를 통한 테스트에서는 
     필터링 기능이 정상 작동하는 것을 확인할 수 있었다.

### 2. 프로그램에서 인기프로그램 조회 시 특정 기업의 썸네일로 일괄적으로 출력되는 상황.

#### ♨ 문제 상황 ♨

     메인 페이지에서 최다 조회수를 가진 프로그램들을 인기 프로그램으로 노출시키는 과정에서, 특정 기업의 썸네일로 고정 출력되는 상황.

#### 문제 원인

     프로그램의 정보를 SELECT하는 것은 오류가 없었는데, 이미지의 filePath와 fileName을 DB로부터 가져올 때, company_id 가 고정되었다.

#### 해결 방법

     기업 이미지가 담긴 테이블과 전체 파일들에 대한 정보가 담긴 테이블 join하는 과정에서 테스트를 위해 사용했던 고정된 COMPANY_ID를 
     제거하지 않아 발생했던 오류로, 테스트용 데이터를 제거하였더니 해결되었다.

### 3. 검색 기능 사용 시, 공백 검색어에 의한 오류.

#### 문제 상황

     헤더에 있는 검색 기능 사용 시, 공백 넣은 상태에서 검색을 진행할 경우, 브라우저를 닫기 전까지 특정 검색어에 대한 
     카테고리가 고정되는 상황

#### 문제 원인

     프로그램 목록 최초 접속 시에도 검색어가 'null' 이기 때문에, 검색어가 null일 때에도 Query String을 통해 파라미터를 
     전달하도록 했기 때문에, 특정 단어를 검색한 뒤 카테고리를 선택하고, 검색창이 공백인 상태로 검색 버튼을 누른 뒤, 
     이전에 입력했던 단어를 다시 검색할 경우, 기존에 선택했던 카테고리가 초기화되지 않았다.

#### 해결 방법

     검색어가 null값이 될 경우, 아예 검색 기능이 실행되지 않도록, 검색어가 공백일 때의 조건문을 통해 이벤트를 방지하였고, 
     기존 검색 결과가 유지되도록 직전에 요청했던 Query String을 다시 요청하도록 수정하였다.

### 4. 프로그램 썸네일 출력 오류

#### 문제 상황

     프로그램 목록을 조회해오는 과정에서 썸네일이 불러와지지 않는 상황

#### 문제 원인

     썸네일을 가져오는 데 DB에 있는 기업 이미지의 filePath와 fileName이라는 두 개의 파라미터를 통해 이미지를 출력하는 데, 
     두 값이 모두 null이어서, 썸네일이 출력되지 않았다.

#### 해결 방법

     파일에 대한 정보를 담고 있는 DTO에 fileName과 filePath가 선언되어 있지 않아서, Service 계층에서 
     해당 데이터들이 누락되어서,  Controller에서 로그를 확인할 때, 해당 값들이 null로 나타났다.
     DTO에 해당 필드를 추가하고 테스트를 한 결과 정상적으로 썸네일이 나타났다.

### 5. 프로그램 지원 시 회원 이력서 관련 오류

#### 문제 상황

     프로그램 상세보기에서 지원하기 버튼 클릭 시, 회원이 작성한 이력서가 없는 경우, 예외발생으로 인해 404페이지로 
     리다이렉트되는 상황

#### 문제 원인

     세션에 저장된 회원 데이터에서 이력서가 null 인 경우, Thymeleaf를 통해 출력하고자 할 때, null을 찾을 수
     없다는 오류가 발생하면서, 404 페이지로 이동된다.

#### 해결 방법

     세션에 저장된 회원 데이터에서 이력서가 없는 경우에는 Thymeleaf가 실행되지 않도록 th:if 구문을 사용하여, 해당 태그가 있는 부분을
     이력서 작성을 요구하는 텍스트로 대체하도록 했다.

## 6-3. 소감

-   기획은 나무가 아닌 숲을 보는 것.

> 프로젝트를 진행하며, 가장 많이 느꼈던 점은 기획의 방향성 뿐만 아니라, 꼼꼼함이 중요하다는 것이다. 첫 프로젝트였던 만큼, 서버를 통한 서비스를 구현하는 중에 누락된 html이 있어 html을 작성하는 데 시간을 써야했던 적도 있었다. 서비스를 염두에 두지 않고 페이지를 만들었기 때문에, Javascript와 Controller로 화면 처리를 진행할 때, 화면 상의 수정사항이 상당히 많았기 때문에, 효율적으로 시간을 쓰기 어려웠다.
> 또한 서비스의 사용 경로가 항상 우리의 기획대로만 되는 것이 아니라, 사용자의 입장에서 다양한 경로로 이뤄질 수 있다는 것을 알 수 있었습니다. 로그인 여부에 따라 제공되는 서비스의 차이나, 특정 조건에서만 발생할 수 있는 오류 등등, 모든 버튼을 다양한 상황에서 눌러보며, 오류 혹은 예외 사항이 발생하는지 확인해야 한다는 것을 느꼈기 때문에, 다른 프로젝트에는 이러한 점을 반영할 수 있었다.

-   협업은 '팀'이 하는 것.

> 이번 프로젝트에서 느낀 점은 팀원과의 소통이 너무나도 중요하다는 점이었다. 퍼블리싱에서는 백업 관련해서 문제가 발생하지 않았지만, 백엔드를 구현하면서, 깃허브에서 충돌이 발생해 초반 3일 간 진행했던 작업물을 처음부터 다시 진행했던 적이 있었다.

> 각각의 서비스에 필요한 메소드나 DTO의 이름을 명확히 하는 것이 중요하다는 것 또한 느낄 수 있었다. 팀원들과 유사한 이름으로 메소드를 정의하거나, DTO를 담당 서비스에 맞춰 작성하게 되면, 코드를 공유하기 때문에, 팀원이 담당한 서비스에서는 오류가 발생하기 때문이다.
> 관리자 페이지를 담당하면서, 관리 메뉴 별로 DTO 및 메소드를 작성하였는데, 팀원들도 각자 담당한 서비스를 구현하기 위해 작성한 DTO와 이름이 중복되어서, github을 통한 공유 과정에 충돌이 발생하기도 했다. PR이 이뤄지고 난 후에 멀쩡하던 서비스가 오작동하는 경우도 있었다. 이러한 일들은, 사전에 DTO나 메소드의 이름을 어떻게 정할지 규칙을 정해놓았다면 발생하지 않았을 일들이었다. 이런 경험을 바탕으로, 코드 변경이나 기존 DTO를 수정해야할 일이 있을 때에는 해당 코드를 작성한 팀원과의 소통을 통해 기존 서비스에 영향이 가지 않도록 노력하였다.

> 팀 프로젝트는 나 혼자만의 작업물이 아니기 때문에, 행동 하나하나가 팀원의 작업물에 영향을 끼친다는 점을 인지하게 되었다. 협업에서의 소통의 중요성을 깨달을 수 있었던 프로젝트였다.

-   발전하는 개발자

> 첫 웹 개발을 진행하면서, 서버와 연동된 웹 페이지를 만들었다는 성취감도 있었지만, 반대로 부족했던 점을 많이 느낄 수 있었다. 기본적인 기능 구현에 초점을 맞추다보니, 효율적인 방법을 적용해야겠다는 생각을 할 수 없었다. 또한 프로젝트 파일의 관리에서도 미흡함을 보였다. DTO나 메소드를 작성했지만, 서비스 구현 과정에서 사용하지 않는 경우들이 종종 있었는데, 이를 삭제하거나 수정하지 않은 채로 두었다. 프로젝트를 완성할 즈음에는 이러한 코드들이 상당히 많이 쌓여서, 서비스 구현 때마다 필요한 메소드를 찾는 데 시간을 많이 허비했다.

> 서비스를 구현하다보면, 다양한 오류가 발생하는데, 단순한 오타에 의해 발생했을 수도 있고, 혹은 아예 설계 자체가 잘못된 것이 원인일 수도 있다. 처음에는 오류가 어떤 이유로 발생하는 것인지 감조차 잡을 수 없었기 때문에, 하나의 기능에서 2~3일씩 붙잡는 경우도 있었다. DB 에서부터 Controller 까지 모든 계층에서 로그를 확인해가면서, 코드를 낱낱이 살펴보았고, 코드의 원리에 대해서도 완벽히 이해할 수 있었던 과정이었다. 추후에는 비슷한 오류가 발생할 시 원인을 금방 유추하고 수정할 수 있었다. 직접 부딪혀가며 해결하는 과정을 겪었기 때문에 이러한 발전을 이룰 수 있었다고 생각하기 때문에, 앞으로도 계속 부딪혀가며 발전하는 개발자가 될 것이다.
